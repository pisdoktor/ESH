if(!window.tail)throw new Error("Tail must be available globally to use the language selector.");function ReplaceWithPolyfill(){var e,t=this.parentNode,l=arguments.length;if(t)for(l||t.removeChild(this);l--;)"object"!=typeof(e=arguments[l])?e=this.ownerDocument.createTextNode(e):e.parentNode&&e.parentNode.removeChild(e),l?t.insertBefore(e,this.previousSibling):t.replaceChild(e,this)}Element.prototype.replaceWith||(Element.prototype.replaceWith=ReplaceWithPolyfill),CharacterData.prototype.replaceWith||(CharacterData.prototype.replaceWith=ReplaceWithPolyfill),DocumentType.prototype.replaceWith||(DocumentType.prototype.replaceWith=ReplaceWithPolyfill);var TailSelector=function(){function e(){this.options.multiple&&this.tailElem.close()}function t(){var e=document.createElement("select");return e.classList="tt-select",e}function l(e){for(var t in this.selectOptions){var l=document.createElement("option");l.value=t,l.innerHTML=this.selectOptions[t],e.appendChild(l)}}function i(){var e=window.tail.select(this.selectorElem,Object.assign({classNames:"tt-fake-select",hideSelected:!0},this.options));return e.options.select(this.defaultKey,"#"),e}function o(){this.selectorElem=t.call(this),l.call(this,this.selectorElem),this.element=document.querySelector(this.selector),this.element.replaceWith(this.selectorElem),this.tailElem=i.call(this),this.tailElem.on("change",e.bind(this)),this.tailElemPrototype=Object.getPrototypeOf(this.tailElem),s.call(this)}function s(){this.tailElemPrototype.block=function(){this.label.classList.add("-blocked")},this.tailElemPrototype.unblock=function(){this.label.classList.remove("-blocked")}}function n(e,t,l,i){this.selectOptions=e,this.defaultKey=l,this.options=i||{},this.selector=t,o.call(this)}return n.prototype.getElement=function(){return this.tailElem},n.prototype.setValue=function(e){for(var t=this.tailElem.options,l=0;l<t.length;l++)t[l].value===e&&t.select(l,"#")},n.prototype.getSelectedOptions=function(){for(var e=this.selectorElem,t=[],l=0;l<e.length;l++)null!==e.options[l].getAttribute("selected")&&t.push(e.options[l].text);return!0===this.options.multiple?t:t[0]},n.prototype.getSelectedOptionsKeys=function(){for(var e=this.selectorElem,t=[],l=0;l<e.length;l++)null!==e.options[l].getAttribute("selected")&&t.push(e.options[l].value);return!0===this.options.multiple?t:t[0]},n.prototype.replaceOptions=function(e){this.selectOptions=e;var t=this.selectorElem.parentNode;this.tailElem.remove(),this.selectorElem.parentNode.removeChild(this.selectorElem);var l=document.createElement("select");l.classList="tt-select",0===this.selector.indexOf("#")?l.setAttribute("id",this.selector.substring(1)):l.classList.add(this.selector.substring(1)),t.appendChild(l),o.call(this)},n}();window.TailSelector=window.TailSelector||TailSelector;